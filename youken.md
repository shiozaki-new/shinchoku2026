# 十式 要件定義｜星取進捗ダッシュボード

## ① 認｜目的・存在

* 部署の進捗と期限リスクを**日次で一瞬把握**する監視ダッシュボード。
* 入口：部署ヘッダーの「星取管理表」ボタン → **モーダル（ポップアップ）表示**。
* 利用頻度：

  * 管理者（本人）：毎日確認・更新
  * 上司：週次（月曜）や必要時に閲覧

---

## ② 理｜判定原理

* 進捗％（0–100）と期限（日付）から状態を自動分類。

### 期限ステータス

| 区分  | 色 | 文字色 | 意味             |
| --- | - | --- | -------------- |
| 絶期限 | 赤 | 白   | 進捗に対し期限が明らかに不足 |
| 乱期限 | 黄 | 黒   | 間に合うか不明（危険域）   |
| 循期限 | 青 | 白   | 進捗に対し期限に余裕     |

* 進捗表示：**ポケモンHPバー風の横ゲージ**（色は上記に連動）
* 分類ロジック（初期案・調整可能）

  * 残日数D、進捗P（%）
  * 期待進捗 = 100 × (経過日数 / 期限総日数)
  * 乖離Δ = P − 期待進捗

    * Δ < -20% → 絶
    * -20% ≤ Δ < -5% → 乱
    * Δ ≥ -5% → 循
      ※ 閾値は管理者UIで後から調整可能。

---

## ③ 衡｜表示バランス

* 画面上部：**絶期限 → 乱期限**（最優先で可視化）
* その下：**期限ありタスク一覧**（循・乱混在、色で判別）
* 期限なしタスク：星取表には存在しても**期限リストには表示しない**。

---

## ④ 縁｜構造

### 画面構成（モーダル内）

1. 絶期限リスト（赤）
2. 乱期限リスト（黄）
3. 区切り線
4. 期限ありタスク一覧（循=青/白、乱=黄/黒）

### データ

* Firebase（無料枠）
* コレクション：`tasks`

  * id, title, progress(0-100), deadline(YYYY-MM-DD|null)

---

## ⑤ 幅｜技術範囲

* 配置：**GitHub Pages**
* 出力：**単一HTML**
* 構成：HTML + CSS + 最小限のVanilla JS
* フレームワーク不使用
* DB：Firebase（クライアントSDKのみ）

---

## ⑥ 許｜権限・合格条件

* 認証：Firebase Auth（メール/パスワード）
* 権限：

  * 管理者1名（本人）：**編集可**
  * その他：閲覧のみ
* 編集内容：

  * 進捗％（HPバーをスライダーで調整）
  * 期限日
  * タスク名

---

## ⑦ 循｜運用

* 毎日：進捗更新 → 自動で色・分類再計算
* 週次：上司が危険タスクを確認
* 将来：閾値・色・並び順を管理UIで調整

---

## ⑧ 乱｜不確定・調整点

* 分類閾値の最適値
* HPバー操作UI（スライダー＋数値表示の併用）
* タスク数増加時のスクロール/ページング

---

## ⑨ 絶｜禁止・破綻条件

* 有料サービス前提の構成
* 複数HTML分割
* JSフレームワーク導入
* 認証なしでの編集許可
* 色分け規則の不統一

---

## ⑩ 継｜継承・発展

* Apple社内ツール風UI

  * 余白重視、角丸、薄い影、階層的タイポグラフィ
* 将来拡張：

  * CSVエクスポート
  * 通知（期限接近）
  * 他部署への横展開
* 本 `.md` を**唯一の憲法**として、
  将来のAI・開発者が同一思想で再構築可能にする。

---

以上が **十式（認理衡縁幅許循乱絶継）準拠の完全要件定義**です。

